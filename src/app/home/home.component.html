<div class="container">
  <div style="text-align: center; margin-top: 24px;">
    <img src="/assets/logo KitMaestro.png" alt="Logo KitMaestro" style="margin: 0 auto; display: block; width: 128px;">
    <h2 style="margin-bottom: 0; margin-top: 0;">KitMaestro</h2>
    <p style="margin-top: 0; margin-bottom: 12px;">La caja de herramientas definitiva</p>
    <div class="search-container">
      <mat-form-field appearance="outline">
        <mat-label>Buscar</mat-label>
        <input type="search" [formControl]="search" placeholder="Buscar Herramienta" matInput>
      </mat-form-field>
    </div>
  </div>
  @if (!search.value) {
    <h3>Herramientas Favoritas</h3>
    <div class="apps-grid">
      @for (app of (favorites$ | async); track $index) {
        <app-tile [isFav]="true" [app]="app" (markFavorite)="unmarkFavorite($event)" />
      } @empty {
        <app-tile [app]="emptyApp" />
      }
    </div>
  }
  <h3>Todas las Herramientas</h3>
  <div class="apps-grid">
    @if (search.value) {
      @for (app of filteredApps; track $index) {
        <app-tile [app]="app" />
      } @empty {
          <p style="padding: 24px; text-align: center;">No tenemos esa herramienta.<br />Considera <a mat-button routerLink="/idea-board">Proponer la Idea</a> para que la integremos a la plataforma.</p>
      }
    } @else {
      @for (app of apps; track $index) {
        <app-tile [app]="app" (markFavorite)="markFavorite($event)" />
      }
    }
  </div>
</div>
