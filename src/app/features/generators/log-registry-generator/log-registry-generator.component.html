<app-is-premium>
	<mat-card>
		<mat-card-header>
			<h2 mat-card-title>Registro Anecd√≥tico</h2>
			<button
				style="margin-left: auto"
				(click)="createLogRegistryEntry()"
				mat-mini-fab
			>
				<mat-icon>add</mat-icon>
			</button>
		</mat-card-header>
		<mat-card-content></mat-card-content>
	</mat-card>
	<table
		mat-table
		[dataSource]="entries"
		style="margin-top: 24px"
		class="mat-elevation-z4"
	>
		<ng-container matColumnDef="date">
			<th mat-header-cell *matHeaderCellDef>Fecha</th>
			<td mat-cell *matCellDef="let element">
				{{ element.date | date: "dd/MM/yyyy" }}
			</td>
		</ng-container>

		<ng-container matColumnDef="time">
			<th mat-header-cell *matHeaderCellDef>Hora</th>
			<td mat-cell *matCellDef="let element">
				{{ element.date | date: "hh:mm a" }}
			</td>
		</ng-container>

		<ng-container matColumnDef="grade">
			<th mat-header-cell *matHeaderCellDef>Grado</th>
			<td mat-cell *matCellDef="let element">{{ element.section.name }}</td>
		</ng-container>

		<ng-container matColumnDef="students">
			<th mat-header-cell *matHeaderCellDef>Estudiante(s)</th>
			<td mat-cell *matCellDef="let element">
				{{ studentNames(element.students) }}
			</td>
		</ng-container>

		<ng-container matColumnDef="place">
			<th mat-header-cell *matHeaderCellDef>Lugar</th>
			<td mat-cell *matCellDef="let element">{{ element.place }}</td>
		</ng-container>

		<ng-container matColumnDef="event">
			<th mat-header-cell *matHeaderCellDef>Evento</th>
			<td mat-cell *matCellDef="let element">{{ element.type }}</td>
		</ng-container>

		<ng-container matColumnDef="actions">
			<th mat-header-cell *matHeaderCellDef>Acciones</th>
			<td mat-cell *matCellDef="let element">
				<button
					style="margin-right: 12px"
					color="warn"
					(click)="deleteLogRegistryEntry(element)"
					mat-mini-fab
				>
					<mat-icon>delete</mat-icon>
				</button>
				<button
					style="margin-right: 12px"
					color="accent"
					(click)="editLogRegistryEntry(element)"
					mat-mini-fab
				>
					<mat-icon>edit</mat-icon>
				</button>
				<button
					color="primary"
					(click)="showLogRegistryEntry(element)"
					mat-mini-fab
				>
					<mat-icon>open_in_new</mat-icon>
				</button>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="labels"></tr>
		<tr mat-row *matRowDef="let row; columns: labels"></tr>
	</table>
</app-is-premium>
