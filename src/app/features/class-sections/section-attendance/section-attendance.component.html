<div style="margin: 20px">
	<mat-card>
		<mat-card-header>
			<h2 mat-card-title>
				Asistencia en
				<ng-container *ngIf="section$ | async as section">{{
					section.name
				}}</ng-container>
			</h2>
		</mat-card-header>
		<mat-card-content>
			<div style="display: flex; align-items: center">
				<button mat-mini-fab (click)="prevMonth()">
					<mat-icon>arrow_back</mat-icon>
				</button>
				<div class="text">
					{{ months[currentMonth] }} de {{ currentYear }}
				</div>
				<button mat-mini-fab (click)="nextMonth()">
					<mat-icon>arrow_forward</mat-icon>
				</button>
			</div>
		</mat-card-content>
	</mat-card>

	<table mat-table class="mat-elevation-z8" [dataSource]="attendance$">
		@for (col of cols; track $index) {
			<ng-container [matColumnDef]="col">
				<th mat-header-cell *matHeaderCellDef>{{ col }}</th>
				<td mat-cell *matCellDef="let student">
					{{ student.firstname }}
				</td>
			</ng-container>
		}

		<tr mat-header-row *matHeaderRowDef="displayedCols"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedCols"></tr>
	</table>
</div>
