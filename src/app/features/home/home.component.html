<div class="container">
	<header class="primary-bg">
		<img
			src="/assets/logo KitMaestro.png"
			alt="Logo KitMaestro"
			style="margin: 0 auto; display: block; width: 128px"
		/>
		<h2 style="margin-bottom: 0; margin-top: 0">KitMaestro</h2>
		<p style="margin-bottom: 12px">Planifica en 5 minutos</p>
		@if (user; as profile) {
			@if (!profile.firstname) {
				<p>
					Tu perfil esta incompleto, recuerda completar los datos de
					tu
					<a routerLink="/profile">perfil</a>
				</p>
			}
		}
	</header>
	<!-- @if (
		search.value === "" || (catFilter.value && catFilter.value.length > 0)
	) {
		<h3>Herramientas Favoritas</h3>
		<div class="apps-grid">
			@for (app of filteredFavorites; track $index) {
				<app-tile
					[isFav]="true"
					[app]="app"
					(markFavorite)="unmarkFavorite($event)"
				/>
			} @empty {
				<app-tile [app]="emptyApp" />
			}
		</div>
	} -->
	<!-- <h3>Todas las Herramientas</h3> -->
	@if (user; as profile) {
		@if (!profile.firstname) {
			<p
				style="
					padding: 24px;
					text-align: center;
					background-color: #f44336;
					color: #fff;
				"
			>
				Tu perfil esta incompleto, recuerda completar los datos de tu
				<a style="color: #fff; font-weight: bold" routerLink="/profile"
					>perfil</a
				>
			</p>
		} @else {
			@if (sections().length === 0) {
				<p
					style="
						padding: 24px;
						text-align: center;
						background-color: #f44336;
						color: #fff;
					"
				>
					Recuerda que debes crear al menos una secci&oacute;n para
					poder utilizar todas las herramientas de KitMaestro. Crea tu
					primera secci&oacute;n desde
					<a
						style="color: #fff; font-weight: bold"
						routerLink="/sections"
						>aqu&iacute;</a
					>
				</p>
			}
		}
	}
	@if (subscription(); as sub) {
		@if (sub.subscriptionType == "FREE") {
			<div
				style="
					padding: 24px;
					text-align: center;
					background-color: #d7e3ff;
				"
			>
				<p style="background-color: #d7e3ff; color: #005cbc">
					Estas utilizando la version gratuita de KitMaestro.<br />Te
					estas perdiendo lo mejor.<br />Considera adquirir una
					suscripci&oacute;n, desde <u>RD$599</u> al mes puedes
					planificar todo lo que necesites.
				</p>
				<div style="display: flex; justify-content: center">
					<button routerLink="/buy" mat-fab extended>
						<mat-icon>rocket</mat-icon> Ver Planes
					</button>
				</div>
			</div>
		} @else {
			<p
				style="
					padding: 12px;
					text-align: center;
					background-color: #d7e3ff;
					border-radius: 12px;
					background-color: #d7e3ff;
					color: #005cbc;
				"
			>
				¿Sab&iacute;as que por cada profesor que invites a KitMaestro
				puedes ganar un mes gratis en la plataforma?
				<button (click)="share()" mat-flat-button>
					Compartir en WhatsApp
				</button>
			</p>
		}
	}
	<div>
		<mat-tab-group>
			<mat-tab label="Planificación">
				<div class="container">
					<div class="apps-grid">
						@for (tool of planningTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Evaluación">
				<div class="container">
					<div class="apps-grid">
						@for (tool of assessmentTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Recursos">
				<div class="container">
					<div
						class="apps-grid"
					>
						@for (tool of resourcesTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Registro">
				<div class="container">
					<div class="apps-grid">
						@for (tool of registryTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Actividades">
				<div class="container">
					<div class="apps-grid">
						@for (tool of activitiesTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Apoyo y Soporte">
				<div class="container">
					<div class="apps-grid">
						@for (tool of supportTools; track $index) {
							<app-tile [app]="tool" />
						}
					</div>
				</div>
			</mat-tab>
		</mat-tab-group>
	</div>
</div>
